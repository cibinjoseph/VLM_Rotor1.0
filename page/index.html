<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="An unsteady vortex lattice solver written in Fortran">
    <meta name="author" content="Cibin Joseph" >
    <link rel="icon" href="../favicon.png">

    <title>Documentation &ndash; VOLCANOR</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">
      <link  href="../tipuesearch/tipuesearch.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../index.html">VOLCANOR <small>0.1.11</small></a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../page/index.html">Documentation</a></li>
                  <li class="nav-item">
                    <a class="nav-link" href="../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/types.html">Derived Types</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/namelists.html">Namelists</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/programs.html">Programs</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>Documentation</h1>
    <div class="container p-2 mb-4 bg-light border rounded-3">
      <div class="row align-items-center justify-content-between">
        <div class="col">
          <ul class="list-inline" style="margin-bottom:0px; display:inline">
          </ul>
        </div>
        <div class="col">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb justify-content-end mb-0">
              <li class="breadcrumb-item active" aria-current="page">Documentation</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
      <div class="col-3">
        <div class="card card-body bg-light" id="sidebar-toc">
          <ul class="nav flex-column align-items">
            <li class="nav-item">
              <a class="nav-link active disabled" href="../page/index.html">Documentation</a>
            </li>
          </ul>
          <hr>
          <nav class="nav nav-pills flex-column">
              <a class="nav-link" href="../page/tutorials/index.html">Tutorials</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../page/tutorials/tutorial1.html">Tutorial 1: Suddenly started rectangular wing</a>
              <a class="nav-link" href="../page/tutorials/tutorial2.html">Tutorial 2: Swept wing from NASA Technical Report 1208</a>

                </nav>
          </nav>
        </div>
      </div>

    <div class="col-9" id='text'>
      <p>The vortex lattice method is a potential flow based method. While different flavours exist, the one implemented here is a lifting surface model with a free-wake formulation. To keep the solver generalized, the flow solution is obtained in the global frame. Details on this specific implementation of the vortex lattice method are available in the following references:</p>
<ol>
<li>Joseph, C., and Mohan, R. <a href="https://doi.org/10.1016/j.compfluid.2020.104788">A Parallel, Object-Oriented Framework for Unsteady Free-Wake Analysis of Multi-Rotor/Wing Systems.</a> Computers &amp; Fluids, Elsevier BV, 215, Jan, 2021, p. 104788.  </li>
<li>Katz, J., and Plotkin, A. <a href="https://doi.org/10.1017/CBO9780511810329">Low-Speed Aerodynamics</a>. Cambridge University Press, Feb 05, 2001.</li>
</ol>
<h3>Assumptions and limitations</h3>
<ol>
<li>Flow solution is incompressible, inviscid and irrotational. Viscous effects in flow like dissipation and strain are included using empirical factors. Reynolds number and Mach number effects on airfoil characteristics have not been modelled directly in the solver.</li>
<li>The Vatistas' core model is used for vortex desingularization. All vortices are rectilinear.</li>
<li>Airfoil thickness effects are not accounted for as only the camberline surface is modelled.</li>
<li>Input linear velocities are in inertial frame and angular velocities are in body frame. This is subject to change in future versions.</li>
</ol>
<h3>Code philosophy</h3>
<p>The code is centered around the object-oriented philosophy and is built up using a hierarchical model as shown in the figure. Vortex filaments are used to contstruct wing and wake ring elements. These are further used to construct wing and wake 'sheets' which make up larger aircraft configurations. Ever geometry is assumed to be a rotor at first. For example, a fixed-wing is a non-rotating single-bladed rotor. This rather unorthodox terminology was adopted for the sake of generalization during the initial phases of development.</p>
<p><img src="../media/data_abstraction.png" alt="" width="800"></p>
<h3>Code organization</h3>
<p>The Fortran source files are present in the <code>src/</code> folder.</p>
<ol>
<li><code>main.f90</code> drives the solver and general program flow.  </li>
<li><code>classdef.f90</code> contains attribute and method definitions for the various abstract data types.  </li>
<li><code>libCommon.f90</code> contains subroutines that work on higher-level objects and those that deal with general bookkeeping.  </li>
<li><code>libPostProcess.f90</code> contains post-processing and data write-out subroutines.  </li>
<li><code>libMath.f90</code> is an independent math library that contains operations on vectors and matrices.  </li>
<li><code>libC81.f90</code> deals with handling C81 airfoil files and is an independent library.  </li>
<li><code>gridgen.90</code> converts results from the Lagrangian to an Eulerian framework to better plot pressure and velocity fields on a traditional CFD-like domain.</li>
</ol>
<p>Data input to the solver is through the files <code>config.nml</code> and <code>geom01.nml</code> which are in <em>namelist</em> format. Namelist files are a Fortran specific ASCII input format that follow a variable name-value ordering. Use the provided script <code>newcase.sh</code> to generate templates of these files.</p>
<p>A few utility codes are provided in <code>tools/</code> to make plotting and parsing of results easier.</p>
<h3>Installation</h3>
<p>The solver has the following dependencies:</p>
<ul>
<li><a href="https://cmake.org/install/">CMake</a></li>
<li><a href="https://www.openmp.org/">OpenMP</a></li>
<li><a href="https://www.netlib.org/lapack/">LAPACK</a></li>
<li><a href="https://www.netlib.org/blas/">BLAS</a></li>
<li><a href="https://gcc.gnu.org/fortran/">GNU Fortran</a> or <a href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/fortran-compiler.html">Intel Fortran</a> compiler</li>
<li><a href="https://www.python.org/">Python</a> (Optional; for postprocessing)</li>
<li><a href="https://www.paraview.org/download/">Paraview</a> (Optional; for postprocessing)</li>
</ul>
<p>The source files utilize a CMake build system. Follow the steps below to generate the <code>volcanor</code> executable.</p>
<ol>
<li>Clone the Github repository using <code>git clone git@github.com:cibinjoseph/VOLCANOR.git</code></li>
<li>Create a <code>build/</code> directory in the topmost folder <code>VOLCANOR/</code>.</li>
<li>Change directory to <code>build/</code>.</li>
<li>Run <code>cmake</code> from this directory pointing to the directory one level below. This will generate a Makefile for your OS and available compiler.</li>
<li>Run <code>make volcanor</code> to compile all source files and generate the <code>volcanor</code> executable in the <code>bin/</code> folder. Note that the environment variable <code>OMP_NUM_THREADS</code> should be set to the required number of parallel processes to utilize parallelization.</li>
</ol>
<p>On a Linux system with Intel Fortran installed, this is achieved using the following commands.</p>
<div class="codehilite"><pre><span></span><code>mkdir build
cd build/
FC=ifort cmake ..
make volcanor
</code></pre></div>
    </div>
  </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col"><p>VOLCANOR was developed by Cibin Joseph<br>&copy; 2023 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2023-12-21T03:43:33.786392             </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>    

    <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="../tipuesearch/tipuesearch_content.js"></script>
          <script src="../tipuesearch/tipuesearch_set.js"></script>
          <script src="../tipuesearch/tipuesearch.js"></script>

  </body>
</html>