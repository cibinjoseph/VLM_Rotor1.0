<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="An unsteady vortex lattice solver written in Fortran">
    <meta name="author" content="Cibin Joseph" >
    <link rel="icon" href="../favicon.png">

    <title>Documentation &ndash; VOLCANOR</title>

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">
      <link  href="../tipuesearch/tipuesearch.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

         <script src="../js/jquery-2.1.3.min.js"></script>
         <script src="../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html">VOLCANOR <small>0.1.9</small></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
              <li><a href='../page/index.html'>Documentation</a></li>
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
                 data-toggle="dropdown" role="button"
                 aria-haspopup="true"
                 aria-expanded="false">
                 Contents <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                    <li><a href="../lists/files.html">Source Files</a></li>
                  <li><a href="../lists/modules.html">Modules</a></li>
                  <li><a href="../lists/procedures.html">Procedures</a></li>
                  <li><a href="../lists/types.html">Derived Types</a></li>
                  <li><a href="../lists/programs.html">Programs</a></li>
              </ul>
            </li>
                <li class="visible-xs hidden-sm visible-lg">
                  <a href="../lists/files.html">Source Files</a>
                </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../lists/modules.html">Modules</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../lists/procedures.html">Procedures</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../lists/types.html">Derived Types</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../lists/programs.html">Programs</a>
              </li>
          </ul>
            <form action="../search.html" class="navbar-form navbar-right" role="search">
              <div class="form-group">
                <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
              </div>
              <!--
                  <button type="submit" class="btn btn-default">Submit</button>
                  -->
            </form>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
  <div class="row">
    <h1>Documentation</h1>
    <div class="row">
    <div class="col-lg-12">
    <div class="well well-sm" style="min-height: 40px;">
      <ul class="list-inline" style="margin-bottom:0px; display:inline">
<!--
        <li><i class="fa fa-sitemap"></i> Subsections:</li>
        <li><a href='../page/tutorials/index.html'>Tutorials</a></li>
-->
      </ul>
        <ol class="breadcrumb in-well">
         <li class="active">Documentation</li>
      </ol>
    </div>
    </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-9 col-md-push-3" id='text'>
      <p>The vortex lattice method is a potential flow based method. While different flavours exist, the one implemented here is a lifting surface model with a free-wake formulation. To keep the solver generalized, the flow solution is obtained in the global frame. Details on this specific implementation of the vortex lattice method are available in the following references:</p>
<ol>
<li>Joseph, C., and Mohan, R. <a href="https://doi.org/10.1016/j.compfluid.2020.104788">A Parallel, Object-Oriented Framework for Unsteady Free-Wake Analysis of Multi-Rotor/Wing Systems.</a> Computers &amp; Fluids, Elsevier BV, 215, Jan, 2021, p. 104788.  </li>
<li>Katz, J., and Plotkin, A. <a href="https://doi.org/10.1017/CBO9780511810329">Low-Speed Aerodynamics</a>. Cambridge University Press, Feb 05, 2001.</li>
</ol>
<h3>Assumptions and limitations</h3>
<ol>
<li>Flow solution is incompressible, inviscid and irrotational. Viscous effects in flow like dissipation and strain are included using empirical factors. Reynolds number and Mach number effects on airfoil characteristics have not been modelled directly in the solver.</li>
<li>The Vatistas' core model is used for vortex desingularization. All vortices are rectilinear.</li>
<li>Airfoil thickness effects are not accounted for as only the camberline surface is modelled.</li>
<li>Input linear velocities are in inertial frame and angular velocities are in body frame. This is subject to change in future versions.</li>
</ol>
<h3>Code philosophy</h3>
<p>The code is centered around the object-oriented philosophy and is built up using a hierarchical model as shown in the figure. Vortex filaments are used to contstruct wing and wake ring elements. These are further used to construct wing and wake 'sheets' which make up larger aircraft configurations. Ever geometry is assumed to be a rotor at first. For example, a fixed-wing is a non-rotating single-bladed rotor. This rather unorthodox terminology was adopted for the sake of generalization during the initial phases of development.</p>
<p><img src="./media/data_abstraction.png" alt="" width="550pt"></p>
<h3>Code organization</h3>
<p>The Fortran source files are present in the <code>src/</code> folder.</p>
<ol>
<li><code>main.f90</code> drives the solver and general program flow.  </li>
<li><code>classdef.f90</code> contains attribute and method definitions for the various abstract data types.  </li>
<li><code>libCommon.f90</code> contains subroutines that work on higher-level objects and those that deal with general bookkeeping.  </li>
<li><code>libPostProcess.f90</code> contains post-processing and data write-out subroutines.  </li>
<li><code>libMath.f90</code> is an independent math library that contains operations on vectors and matrices.  </li>
<li><code>libC81.f90</code> deals with handling C81 airfoil files and is an independent library.  </li>
<li><code>gridgen.90</code> converts results from the Lagrangian to an Eulerian framework to better plot pressure and velocity fields on a traditional CFD-like domain.</li>
</ol>
<p>Data input to the solver is through the files <code>config.nml</code> and <code>geom01.nml</code> which are in <em>namelist</em> format. Namelist files are a Fortran specific ASCII input format that follow a variable name-value ordering. Use the provided script <code>newcase.sh</code> to generate templates of these files.</p>
<p>A few utility codes are provided in <code>tools/</code> to make plotting and parsing of results easier.</p>
<h3>Installation</h3>
<p>The solver has the following dependencies:</p>
<ul>
<li><a href="https://cmake.org/install/">CMake</a></li>
<li><a href="https://www.openmp.org/">OpenMP</a></li>
<li><a href="https://www.netlib.org/lapack/">LAPACK</a></li>
<li><a href="https://www.netlib.org/blas/">BLAS</a></li>
<li><a href="https://gcc.gnu.org/fortran/">GNU Fortran</a> or <a href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/fortran-compiler.html">Intel Fortran</a> compiler</li>
<li><a href="https://www.python.org/">Python</a> (Optional; for postprocessing)</li>
<li><a href="https://www.paraview.org/download/">Paraview</a> (Optional; for postprocessing)</li>
</ul>
<p>The source files utilize a CMake build system. Follow the steps below to generate the <code>volcanor</code> executable.</p>
<ol>
<li>Create a <code>build/</code> directory in the topmost folder.</li>
<li>Change directory to <code>build/</code>.</li>
<li>Run <code>cmake</code> from this directory pointing to the directory one level below. This will generate a Makefile for your OS and available compiler.</li>
<li>Run <code>make volcanor</code> to compile all source files and generate the <code>volcanor</code> executable in the <code>bin/</code> folder.</li>
</ol>
<p>On a Linux system with Intel Fortran installed, this is achieved using the following commands.</p>
<div class="codehilite"><pre><span></span><code>mkdir build
cd build/
FC=ifort cmake ..
make volcanor
</code></pre></div>
    </div>
    <div class="col-md-3 col-md-pull-9">
      <hr class="visible-xs visible-sm">
        <div class="well toc">
          <ul class="nav nav-stacked nav-pills">
            <li role="presentation" class="title disabled"><a href='../page/index.html'>Documentation</a></li>
          </ul>
          <hr>
          <ul class="nav nav-stacked nav-pills">
            <li role="presentation">
            <a href='../page/tutorials/index.html'>Tutorials</a>
            <ul class="nav nav-stacked nav-pills">
                          <li role="presentation">
            <a href='../page/tutorials/tutorial1.html'>Tutorial 1: Suddenly started rectangular wing</a>
            </li>

            </ul>
            </li>
          </ul>
        </div>
    </div>
  </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-xs-6 col-md-6"><p>VOLCANOR was developed by Cibin Joseph<br>&copy; 2023 
</p>
          </div>
          <div class="col-xs-6 col-md-6">
            <p class="text-right">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2023-07-04T21:23:30.213077             </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript
         ================================================== -->
         <!-- Placed at the end of the document so the pages load faster -->
    <!--
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        -->
        <script src="../js/bootstrap.min.js"></script>
        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <script src="../js/ie10-viewport-bug-workaround.js"></script>

        <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="../tipuesearch/tipuesearch_content.js"></script>
          <script src="../tipuesearch/tipuesearch_set.js"></script>
          <script src="../tipuesearch/tipuesearch.js"></script>

  </body>
</html>